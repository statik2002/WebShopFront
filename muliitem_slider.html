<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <script src="static/js/popper.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/jquery-3.1.0.js"></script>
    <script src="static/js/main.js"></script>
    <title>Multiitem slider</title>
</head>
<body>
    <style>
        @media (min-width: 768px) {
            .carousel-inner {
                display: flex;
            }
            .carousel-item {
                margin-right: 0;
                flex: 0 0 33.333333%;
                display: block;
            }
            .carousel-inner{
                padding: 1em;
            }
            .carousel-control-prev, .carousel-control-next{
                background-color: #e1e1e1;
                width: 6vh;
                height: 6vh;
                border-radius: 50%;
                top: 50%;
                transform: translateY(-50%);
            }
        }
    </style>
    <script>
        $(document).ready(function(){
            let multipleCardCarousel = document.querySelector("#carouselExampleControls");
            if (window.matchMedia("(min-width: 768px)").matches) {
                var carousel = new bootstrap.Carousel(multipleCardCarousel, {
                    interval: false,
                    wrap: false,
                });
            let carouselWidth = $(".carousel-inner")[0].scrollWidth;
            console.log(carouselWidth);
            let cardWidth = $(".carousel-item").width();
            console.log(cardWidth);
            let scrollPosition = 0;
            console.log(scrollPosition);
            $("#carouselExampleControls .carousel-control-next").on("click", function () {
                if (scrollPosition < carouselWidth - cardWidth * 4) {
                scrollPosition += cardWidth;
                $("#carouselExampleControls .carousel-inner").animate(
                    { scrollLeft: scrollPosition },
                    600
                );
                }
            });
            $("#carouselExampleControls .carousel-control-prev").on("click", function () {
                if (scrollPosition > 0) {
                scrollPosition -= cardWidth;
                $("#carouselExampleControls .carousel-inner").animate(
                    { scrollLeft: scrollPosition },
                    600
                );
                }
            });
            } else {
            $(multipleCardCarousel).addClass("slide");
            }
        });
        
    </script>
    <div id="carouselExampleControls" class="carousel" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active p-1">
            <img src="media/14370.jpeg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item p-1">
            <img src="media/mountains.jpg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item p-1">
            <img src="media/oboi.webp" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item p-1">
            <img src="media/run.jpg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item p-1">
            <img src="media/avatar.webp" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="media/avatar_men.webp" class="d-block w-100" alt="...">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
</body>
</html>